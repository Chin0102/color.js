//@source http://github.com/eligrey/color.js/blob/master/color.js
var Color=(function(){var a=function a(t,s,m,n){var o=this,q=arguments.length,p=function(r){return parseInt(r,16)};if(q<3){if(typeof t===j){t=t.substr(t.indexOf("#")+1);var u=t.length===3;t=p(t);u&&(t=(((t&3840)*4352)|((t&240)*272)|((t&15)*17)))}q===2&&(n=s);s=(t&65280)/256;m=t&255;t=t>>>16}if(!(o instanceof a)){return new a(t,s,m,n)}this.channels=[typeof t===j&&p(t)||t,typeof s===j&&p(s)||s,typeof m===j&&p(m)||m,(typeof n!==j&&typeof n!=="number")&&1||typeof n===j&&e(n)||n]},f=a.prototype,j="string",d="undefined",h="toLowerCase",e=parseFloat,k=Math,l=document,b=l.documentElement,g=l.defaultView,c=Object.prototype.hasOwnProperty,i=false;a.table={transparent:[0,0,0,0]};a.RGBtoHSL=function(u){var m=u[0],q=u[1],v=u[2];m/=255;q/=255;v/=255;var w=k.max(m,q,v),o=k.min(m,q,v),p,x,n=(w+o)/2;if(w===o){p=x=0}else{var t=w-o;x=n>0.5?t/(2-w-o):t/(w+o);switch(w){case m:p=(q-v)/t+(q<v?6:0);break;case q:p=(v-m)/t+2;break;case v:p=(m-q)/t+4;break}p/=6}return[p,x,n]};a.HSLtoRGB=function(y){var v=y[0],z=y[1],u=y[2],m,w,x,t=function(A,s,r){if(r<0){r+=1}if(r>1){r-=1}if(r<1/6){return A+(s-A)*6*r}if(r<1/2){return s}if(r<2/3){return A+(s-A)*(2/3-r)*6}return A};if(z===0){m=w=x=u}else{var n=u<0.5?u*(1+z):u+z-u*z,o=2*u-n;m=t(o,n,v+1/3);w=t(o,n,v);x=t(o,n,v-1/3)}return[m*255,w*255,x*255]};a.rgb=function(p,o,m,n){return new a(p,o,m,typeof n!==d?n:1)};a.hsl=function(r,q,n,m){var o=a.HSLtoRGB([r,q,n]),p=k.ceil;return new a(p(o[0]),p(o[1]),p(o[2]),typeof m!==d?m:1)};a.TOSTRING="hexTriplet";a.parse=function(m){if(m[0]==="#"){return new a(m)}else{if(m==="transparent"){return a.get(m)}}var o=m.substr(0,3),m=m.replace(/[^\d,.]/g,"").split(","),n=m.length;while(n--){m[n]=m[n]&&e(m[n])||0}switch(o){case"rgb":return a.rgb.apply(a,m);case"hsl":m[0]/=360;m[1]/=100;m[2]/=100;return a.hsl.apply(a,m)}return i};a.define=function(m,n){a.table[m[h]()]=n};a.get=function(m){m=m[h]();if(c.call(a.table,m)){return a.apply(null,a.table[m])}if(typeof g===d||typeof g.getComputedStyle===d){return i}var o=l.createElement("div"),n=o.style,p="backgroundColor",m;n.display="none";try{n[p]=m}catch(q){return i}if(!n[p]||n[p]==="transparent"){return i}b.appendChild(o);m=g.getComputedStyle(o,null)[p];n.removeProperty(p);n.removeProperty("display");b.removeChild(o);return a.parse(m)};a.del=function(m){return delete a.table[m[h]()]};a.random=function(p,o){typeof p===j&&(p=a.get(p))&&(p=p.getValue());typeof o===j&&(o=a.get(o))&&(o=o.getValue());var n=k.floor,m=k.random;o=(o||16777215)+1;if(!isNaN(p)){return new a(n((m()*(o-p))+p))}return new a(n(m()*o))};f.toString=function(){return this[a.TOSTRING]()};f.valueOf=f.getValue=function(){var m=this.channels;return((m[0]*65536)|(m[1]*256)|m[2])};f.setValue=function(m){this.channels.splice(0,3,m>>>16,(m&65280)/256,m&255)};f.hexTriplet=("01".substr(-1)==="1"?function(){return"#"+("00000"+this.getValue().toString(16)).substr(-6)}:function(){var m=this.getValue().toString(16);return"#"+(new Array(m.length<6?6-m.length+1:0)).join("0")+m});f.css=function(){var m=this;return m.channels[3]===1?m.hexTriplet():m.rgba()};f.rgbData=function(){return this.channels.slice(0,3)};f.hslData=function(){return a.RGBtoHSL(this.rgbData())};f.rgb=function(){return"rgb("+this.rgbData().join(",")+")"};f.rgba=function(){return"rgba("+this.channels.slice(0,4).join(",")+")"};f.hsl=function(){var m=this.hslData();return"hsl("+m[0]*360+","+(m[1]*100)+"%,"+(m[2]*100)+"%)"};f.hsla=function(){var m=this.hslData();return"hsla("+m[0]*360+","+(m[1]*100)+"%,"+(m[2]*100)+"%,"+this.channels[3]+")"};return a}());
