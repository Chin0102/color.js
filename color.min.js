//@source http://github.com/eligrey/color.js/blob/master/color.js
var Color=(function(){var a=function a(p,o,j,k){var l=this,n=arguments.length,m=function(r){return parseInt(r,16)};n<4&&(k=1);if(n<3){if(typeof p===g){p=p.substr(p.indexOf("#")+1);var q=p.length===3;p=m(p);q&&(p=(((p&3840)*4352)|((p&240)*272)|((p&15)*17)))}n===2&&(k=o);o=(p&65280)/256;j=p&255;p=p>>>16}if(!(l instanceof a)){return new a(p,o,j,k)}this.channels=[typeof p===g&&m(p)||p,typeof o===g&&m(o)||o,typeof j===g&&m(j)||j,typeof k===g&&parseFloat(k)||k]},g="string",c="undefined",d=a.prototype,h=Math,i=document,b=i.documentElement,e=i.defaultView,f=false;a.table={transparent:[0,0,0,0]};a.RGBtoHSL=function(q){var j=q[0],o=q[1],t=q[2];j/=255;o/=255;t/=255;var u=h.max(j,o,t),m=h.min(j,o,t),n,v,k=(u+m)/2;if(u===m){n=v=0}else{var p=u-m;v=k>0.5?p/(2-u-m):p/(u+m);switch(u){case j:n=(o-t)/p+(o<t?6:0);break;case o:n=(t-j)/p+2;break;case t:n=(j-o)/p+4;break}n/=6}return[n,v,k]};a.HSLtoRGB=function(w){var t=w[0],x=w[1],o=w[2],j,u,v,n=function(s,r,l){if(l<0){l+=1}if(l>1){l-=1}if(l<1/6){return s+(r-s)*6*l}if(l<1/2){return r}if(l<2/3){return s+(r-s)*(2/3-l)*6}return s};if(x===0){j=u=v=o}else{var k=o<0.5?o*(1+x):o+x-o*x,m=2*o-k;j=n(m,k,t+1/3);u=n(m,k,t);v=n(m,k,t-1/3)}return[j*255,u*255,v*255]};a.rgb=function(m,l,j,k){return new a(m,l,j,typeof k!==c?k:1)};a.hsl=function(p,o,k,j){var m=a.HSLtoRGB([p,o,k]),n=h.ceil;return new a(n(m[0]),n(m[1]),n(m[2]),typeof j!==c?j:1)};a.TOSTRING="hexTriplet";a.define=function(j,k){a.table[j]=k};a.get=function(j){if(j in a.table){return a.apply(null,a.table[j])}if(typeof e===c||typeof e.getComputedStyle===c){return f}var n=i.createElement("div"),m=n.style,o="backgroundColor",k,l;j=j.replace(/[^a-zA-Z]/g,"").toLowerCase();m.display="none";try{m[o]=j}catch(p){return f}if(!m[o]||m[o]==="transparent"){return f}b.appendChild(n);k=e.getComputedStyle(n,null)[o].replace(/[^\d,]/g,"").split(",");m.removeProperty(o);m.removeProperty("display");b.removeChild(n);l=k.length;while(l--){k[l]=k[l]&&parseInt(k[l],10)||0}return a.apply(null,k)};a.random=function(m,l){typeof m===g&&(m=a.get(m))&&(m=m.getValue());typeof l===g&&(l=a.get(l))&&(l=l.getValue());var k=h.floor,j=h.random;l=(l||16777215)+1;if(!isNaN(m)){return new a(k((j()*(l-m))+m))}return new a(k(j()*l))};d.toString=function(){return this[a.TOSTRING]()};d.valueOf=d.getValue=function(){var j=this.channels;return((j[0]*65536)|(j[1]*256)|j[2])};d.setValue=function(j){this.channels.splice(0,3,j>>>16,(j&65280)/256,j&255)};d.hexTriplet=("01".substr(-1)==="1"?function(){return"#"+("00000"+this.getValue().toString(16)).substr(-6)}:function(){var j=this.getValue().toString(16);return"#"+(new Array(j.length<6?6-j.length+1:0)).join("0")+j});d.css=function(){var j=this;return j.channels[3]===1?j.hexTriplet():j.rgba()};d.rgbData=function(){return this.channels.slice(0,3)};d.hslData=function(){return a.RGBtoHSL(this.rgbData())};d.rgb=function(){return"rgb("+this.rgbData().join(",")+")"};d.rgba=function(){return"rgba("+this.channels.slice(0,4).join(",")+")"};d.hsl=function(){var j=this.hslData();return"hsl("+j[0]*360+","+(j[1]*100)+"%,"+(j[2]*100)+"%)"};d.hsla=function(){var j=this.hslData();return"hsla("+j[0]*360+","+(j[1]*100)+"%,"+(j[2]*100)+"%,"+this.channels[3]+")"};return a}());
